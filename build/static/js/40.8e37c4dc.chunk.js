(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{768:function(t,i,e){"use strict";e.r(i);e(197);var n=e(125),h=e(10),s=e(11),a=e(15),r=e(14),o=e(142),l=e(16),c=e(0),u=e.n(c),f=function(t){function i(){var t,e;Object(h.a)(this,i);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=Object(a.a)(this,(t=Object(r.a)(i)).call.apply(t,[this].concat(s)))).createText=function(){var t=Object(o.a)(e),i="black",n="\u5f88\u9177\u70ab\u7684\u6587\u5b57\u6548\u679c",h=100,s=3e3,a=2,r=100,l=5,c=.95,u=.01,f=.1,d=50,y=30,v=Math.round(2+a),g=Array.apply(null,Array(s)).map(function(){return null}),x=document.getElementById("spring-text"),m=x.getContext("2d"),M=x.getBoundingClientRect().left,p=[],w=[],b=0,_={x:0,y:0};function T(t,i,e,n,h,s){var o=6.28*Math.random();this.dest_x=t,this.dest_y=i,this.original_r=e,this.original_g=n,this.original_a=s,this.lastx=0,this.lasty=0,this.x=x.width/2-t+(Math.random()-.5)*r,this.y=x.height/2-i+(Math.random()-.5)*r,this.velx=l*Math.cos(o),this.vely=l*Math.sin(o),this.target_x=x.width/2-t,this.target_y=x.height/2-i,this.r=e,this.g=n,this.b=h,this.a=s,this.moved=!1,w[b]=this,b++,this.getX=function(){return this.x},this.getY=function(){return this.y},this.fleeFrom=function(t,i){this.velx-=(_.x-this.x)*f,this.vely-=(_.y-this.y)*f},this.settleTo=function(t,i){this.velx=c*(this.velx+(this.target_x-this.x)*u),this.vely=c*(this.vely+(this.target_y-this.y)*u)},this.scatter=function(){var t=this.unitVecTo(_.x,_.y),i=y*(.5+Math.random()/2);this.velx=-t.x*i,this.vely=-t.y*i},this.checkMove=function(){this.moved=0==!Math.abs(Math.round(this.target_x-this.x))||0==!Math.abs(Math.round(this.target_y-this.y))||0==!Math.abs(Math.round(this.velx))||0==!Math.abs(Math.round(this.vely))},this.simpleMove=function(){this.checkMove(),this.moved&&(this.lastx=this.x,this.lasty=this.y,this.x+=this.velx,this.y+=this.vely,w[b]=this,b++)},this.move=function(){this.distanceTo(_.x,_.y)<=d?this.fleeFrom(_.x,_.y):this.settleTo(this.target_x,this.target_y),this.simpleMove()},this.distanceTo=function(t,i){var e=t-this.x,n=i-this.y;return Math.sqrt(e*e+n*n)},this.unitVecTo=function(t,i){var e=t-this.x,n=i-this.y,h=Math.sqrt(e*e+n*n);return{x:e/h,y:n/h}},this.inMotion=function(){return this.moved},this.clear=function(){m.clearRect(this.lastx-v,this.lasty-v,2*v,2*v)},this.draw=function(){m.fillStyle="rgba("+this.r+","+this.g+","+this.b+","+this.a+")",m.beginPath(),m.arc(this.x,this.y,a,0,2*Math.PI),m.fill()}}function k(){x.width=x.clientWidth,x.height=x.clientHeight}function A(){m.fillStyle=i,m.textBaseline="middle",m.textAlign="center",m.font=h+"px Arial",m.fillText(n,x.width/2,x.height/2);var t=m.measureText(n).width;if(0!=t){var e=x.width/2-t/2,a=x.height/2-h/2,r=m.getImageData(e,a,t,h).data;m.clearRect(0,0,x.width,x.height);for(var o=!0,l=0;l<r.length;l++)if(0!=r[l]){o=!1;break}if(!o){var c=0,u=0,f=0,d=0,y=0,v=Math.floor(t);for(p=[];c<s;){for(;0==u;)u=r[f=Math.floor(Math.random()*r.length)];d=v/2-(f=Math.floor(f/4))%v,y=h/2-Math.floor(f/v),p.push(new T(d,y,r[4*f],r[4*f+1],r[4*f+2],r[4*f+3])),u=0,c++}}}}function j(){!function(){for(var t=0;t<p.length;t++)p[t].move()}(),function(){for(var i=0;i<b;i++)w[i].clear();w=g,b=0;for(var i=0;i<p.length;i++)p[i].draw();t.myReq=window.requestAnimationFrame(j)}()}window.addEventListener("resize",function(){k(),A()}),x.addEventListener("mousemove",function(t){_.x=t.clientX-M,_.y=t.clientY-66}),x.addEventListener("click",function(t){_.x=t.clientX-M,_.y=t.clientY-66;for(var i=0;i<p.length;i++)p[i].scatter()}),k(),A(),j()},e}return Object(l.a)(i,t),Object(s.a)(i,[{key:"componentDidMount",value:function(){this.createText(),n.a.open({description:"\u9f20\u6807\u79fb\u5165\u5230\u6587\u5b57\u4e0a\uff0c\u6216\u8005\u9f20\u6807\u70b9\u51fb\u5c4f\u5e55",style:{marginTop:64}})}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.myReq),n.a.destroy()}},{key:"render",value:function(){return u.a.createElement("div",{style:d.bg},u.a.createElement("canvas",{id:"spring-text",style:d.bg}))}}]),i}(u.a.Component),d={bg:{position:"absolute",top:0,left:0,width:"100%",height:"calc(100vh - 64px)"}};i.default=f}}]);
//# sourceMappingURL=40.8e37c4dc.chunk.js.map